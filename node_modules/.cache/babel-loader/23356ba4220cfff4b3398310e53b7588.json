{"ast":null,"code":"import _slicedToArray from\"C:/Users/HP/Documents/React Native/wasteeliminator/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useReducer,useRef,useState,useEffect}from'react';import Button from\"../UI/Button/Button\";import Modal from\"../UI/Modal/Modal\";import classes from\"./Input.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var regName=/^[a-zA-Z]+$/;var nameReducer=function nameReducer(state,action){if(action.type===\"USER_INPUT\"){return{value:action.val,isValid:regName.test(action.val)};}if(action.type===\"INPUT_BLUR\"){return{value:state.value,isValid:regName.test(action.val)};}return{value:\"\",isValid:false};};var emailReducer=function emailReducer(state,action){if(action.type===\"USER_INPUT\"){return{value:action.val,isValid:action.val.includes(\"@\")};}if(action.type===\"INPUT_BLUR\"){return{value:state.value,isValid:state.value.includes(\"@\")};}return{value:\"\",isValid:false};};var passwordReducer=function passwordReducer(state,action){if(action.type===\"USER_INPUT\"){return{value:action.val,isValid:action.val.trim().length>6};}if(action.type===\"INPUT_BLUR\"){return{value:state.value,isValid:state.value.trim().length>6};}return{value:\"\",isValid:false};};var Signup=function Signup(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),formIsValid=_useState2[0],setFormIsValid=_useState2[1];var nameRef=useRef();var emailRef=useRef();var passwordRef=useRef();var _useReducer=useReducer(nameReducer,{value:\"\",isValid:false}),_useReducer2=_slicedToArray(_useReducer,2),nameState=_useReducer2[0],dispatchName=_useReducer2[1];var _useReducer3=useReducer(emailReducer,{value:\"\",isValid:false}),_useReducer4=_slicedToArray(_useReducer3,2),emailState=_useReducer4[0],dispatchEmail=_useReducer4[1];var _useReducer5=useReducer(passwordReducer,{value:\"\",isValid:null}),_useReducer6=_slicedToArray(_useReducer5,2),passwordState=_useReducer6[0],dispatchPassword=_useReducer6[1];var nameIsValid=nameState.isValid;var emailIsValid=emailState.isValid;var passwordIsValid=passwordState.isValid;useEffect(function(){var identifier=setTimeout(function(){console.log(\"Checking form validity\");setFormIsValid(nameIsValid&&emailIsValid&&passwordIsValid);},500);return function(){console.log(\"CLEANUP\");clearTimeout(identifier);};},[nameIsValid,emailIsValid,passwordIsValid]);var nameChangeHandler=function nameChangeHandler(event){dispatchName({type:\"USER_INPUT\",val:event.target.value});};var emailChangeHandler=function emailChangeHandler(event){dispatchEmail({type:\"USER_INPUT\",val:event.target.value});};var passwordChangeHandler=function passwordChangeHandler(event){dispatchPassword({type:\"USER_INPUT\",val:event.target.value});};var validateNameHandler=function validateNameHandler(){dispatchName({type:\"INPUT_BLUR\"});};var validateEmailHandler=function validateEmailHandler(){dispatchEmail({type:\"INPUT_BLUR\"});};var validatePasswordHandler=function validatePasswordHandler(){dispatchPassword({type:\"INPUT_BLUR\"});};var slideHandler=function slideHandler(){props.onClose();props.onShowLogin();};var submitHandler=function submitHandler(event){event.preventDefault();if(formIsValid){var payload={name:nameState.value,email:emailState.value,password:passwordState.value};props.onConfirm(payload);}else if(!nameIsValid){nameRef.current.focus();}else if(!emailIsValid){emailRef.current.focus();}else{passwordRef.current.focus();}props.onClose();};return/*#__PURE__*/_jsx(Modal,{onClose:props.onClose,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,className:classes.body,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Join Waste Eliminator\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.input,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{ref:nameRef,id:\"name\",label:\"Name\",type:\"text\",value:nameState.value,onChange:nameChangeHandler,onBlur:validateNameHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.input,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{ref:emailRef,id:\"email\",label:\"E-mail\",type:\"email\",value:emailState.value,onChange:emailChangeHandler,onBlur:validateEmailHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.input,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{ref:passwordRef,id:\"password\",label:\"Password\",type:\"password\",value:passwordState.value,onChange:passwordChangeHandler,onBlur:validatePasswordHandler})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Signup\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.changeForm,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Already signup?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:slideHandler,children:\"Go to Login\"})]})]})});};export default Signup;","map":{"version":3,"sources":["C:/Users/HP/Documents/React Native/wasteeliminator/src/components/EntryForm/Signup.js"],"names":["useReducer","useRef","useState","useEffect","Button","Modal","classes","regName","nameReducer","state","action","type","value","val","isValid","test","emailReducer","includes","passwordReducer","trim","length","Signup","props","formIsValid","setFormIsValid","nameRef","emailRef","passwordRef","nameState","dispatchName","emailState","dispatchEmail","passwordState","dispatchPassword","nameIsValid","emailIsValid","passwordIsValid","identifier","setTimeout","console","log","clearTimeout","nameChangeHandler","event","target","emailChangeHandler","passwordChangeHandler","validateNameHandler","validateEmailHandler","validatePasswordHandler","slideHandler","onClose","onShowLogin","submitHandler","preventDefault","payload","name","email","password","onConfirm","current","focus","body","input","changeForm"],"mappings":"qIAAA,OAASA,UAAT,CAAqBC,MAArB,CAA6BC,QAA7B,CAAuCC,SAAvC,KAAwD,OAAxD,CAEA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,mBAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,aAAhB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACrC,GAAIA,MAAM,CAACC,IAAP,GAAgB,YAApB,CAAkC,CAChC,MAAO,CAAEC,KAAK,CAAEF,MAAM,CAACG,GAAhB,CAAqBC,OAAO,CAAEP,OAAO,CAACQ,IAAR,CAAaL,MAAM,CAACG,GAApB,CAA9B,CAAP,CACD,CACD,GAAIH,MAAM,CAACC,IAAP,GAAgB,YAApB,CAAkC,CAChC,MAAO,CAAEC,KAAK,CAAEH,KAAK,CAACG,KAAf,CAAsBE,OAAO,CAAEP,OAAO,CAACQ,IAAR,CAAaL,MAAM,CAACG,GAApB,CAA/B,CAAP,CACD,CACD,MAAO,CAAED,KAAK,CAAE,EAAT,CAAaE,OAAO,CAAE,KAAtB,CAAP,CACD,CARD,CAUA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACP,KAAD,CAAQC,MAAR,CAAmB,CACtC,GAAIA,MAAM,CAACC,IAAP,GAAgB,YAApB,CAAkC,CAChC,MAAO,CAAEC,KAAK,CAAEF,MAAM,CAACG,GAAhB,CAAqBC,OAAO,CAAEJ,MAAM,CAACG,GAAP,CAAWI,QAAX,CAAoB,GAApB,CAA9B,CAAP,CACD,CACD,GAAIP,MAAM,CAACC,IAAP,GAAgB,YAApB,CAAkC,CAChC,MAAO,CAAEC,KAAK,CAAEH,KAAK,CAACG,KAAf,CAAsBE,OAAO,CAAEL,KAAK,CAACG,KAAN,CAAYK,QAAZ,CAAqB,GAArB,CAA/B,CAAP,CACD,CACD,MAAO,CAAEL,KAAK,CAAE,EAAT,CAAaE,OAAO,CAAE,KAAtB,CAAP,CACD,CARD,CAUA,GAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACT,KAAD,CAAQC,MAAR,CAAmB,CACzC,GAAIA,MAAM,CAACC,IAAP,GAAgB,YAApB,CAAkC,CAChC,MAAO,CAAEC,KAAK,CAAEF,MAAM,CAACG,GAAhB,CAAqBC,OAAO,CAAEJ,MAAM,CAACG,GAAP,CAAWM,IAAX,GAAkBC,MAAlB,CAA2B,CAAzD,CAAP,CACD,CACD,GAAIV,MAAM,CAACC,IAAP,GAAgB,YAApB,CAAkC,CAChC,MAAO,CAAEC,KAAK,CAAEH,KAAK,CAACG,KAAf,CAAsBE,OAAO,CAAEL,KAAK,CAACG,KAAN,CAAYO,IAAZ,GAAmBC,MAAnB,CAA4B,CAA3D,CAAP,CACD,CACD,MAAO,CAAER,KAAK,CAAE,EAAT,CAAaE,OAAO,CAAE,KAAtB,CAAP,CACD,CARD,CAWA,GAAMO,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,CAExB,cAAsCpB,QAAQ,CAAC,KAAD,CAA9C,wCAAOqB,WAAP,eAAoBC,cAApB,eAEA,GAAMC,CAAAA,OAAO,CAAGxB,MAAM,EAAtB,CACA,GAAMyB,CAAAA,QAAQ,CAAGzB,MAAM,EAAvB,CACA,GAAM0B,CAAAA,WAAW,CAAG1B,MAAM,EAA1B,CAEA,gBAAkCD,UAAU,CAACQ,WAAD,CAAc,CACxDI,KAAK,CAAE,EADiD,CAExDE,OAAO,CAAE,KAF+C,CAAd,CAA5C,4CAAOc,SAAP,iBAAkBC,YAAlB,iBAKA,iBAAoC7B,UAAU,CAACgB,YAAD,CAAe,CAC3DJ,KAAK,CAAE,EADoD,CAE3DE,OAAO,CAAE,KAFkD,CAAf,CAA9C,6CAAOgB,UAAP,iBAAmBC,aAAnB,iBAKA,iBAA0C/B,UAAU,CAACkB,eAAD,CAAkB,CACpEN,KAAK,CAAE,EAD6D,CAEpEE,OAAO,CAAE,IAF2D,CAAlB,CAApD,6CAAOkB,aAAP,iBAAsBC,gBAAtB,iBAKA,GAAiBC,CAAAA,WAAjB,CAAiCN,SAAjC,CAAQd,OAAR,CACA,GAAiBqB,CAAAA,YAAjB,CAAkCL,UAAlC,CAAQhB,OAAR,CACA,GAAiBsB,CAAAA,eAAjB,CAAqCJ,aAArC,CAAQlB,OAAR,CAEAX,SAAS,CAAC,UAAM,CACd,GAAMkC,CAAAA,UAAU,CAAGC,UAAU,CAAC,UAAM,CAClCC,OAAO,CAACC,GAAR,CAAY,wBAAZ,EACAhB,cAAc,CAACU,WAAW,EAAIC,YAAf,EAA+BC,eAAhC,CAAd,CACD,CAH4B,CAG1B,GAH0B,CAA7B,CAKA,MAAO,WAAM,CACXG,OAAO,CAACC,GAAR,CAAY,SAAZ,EACAC,YAAY,CAACJ,UAAD,CAAZ,CACD,CAHD,CAID,CAVQ,CAUN,CAACH,WAAD,CAAcC,YAAd,CAA4BC,eAA5B,CAVM,CAAT,CAYA,GAAMM,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,KAAD,CAAW,CACnCd,YAAY,CAAC,CAAElB,IAAI,CAAE,YAAR,CAAsBE,GAAG,CAAE8B,KAAK,CAACC,MAAN,CAAahC,KAAxC,CAAD,CAAZ,CACD,CAFD,CAIA,GAAMiC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACF,KAAD,CAAW,CACpCZ,aAAa,CAAC,CAAEpB,IAAI,CAAE,YAAR,CAAsBE,GAAG,CAAE8B,KAAK,CAACC,MAAN,CAAahC,KAAxC,CAAD,CAAb,CACD,CAFD,CAIA,GAAMkC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACH,KAAD,CAAW,CACvCV,gBAAgB,CAAC,CAAEtB,IAAI,CAAE,YAAR,CAAsBE,GAAG,CAAE8B,KAAK,CAACC,MAAN,CAAahC,KAAxC,CAAD,CAAhB,CACD,CAFD,CAIA,GAAMmC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChClB,YAAY,CAAC,CAAElB,IAAI,CAAE,YAAR,CAAD,CAAZ,CACD,CAFD,CAIA,GAAMqC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,CACjCjB,aAAa,CAAC,CAAEpB,IAAI,CAAE,YAAR,CAAD,CAAb,CACD,CAFD,CAIA,GAAMsC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,EAAM,CACpChB,gBAAgB,CAAC,CAAEtB,IAAI,CAAE,YAAR,CAAD,CAAhB,CACD,CAFD,CAKA,GAAMuC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB5B,KAAK,CAAC6B,OAAN,GACA7B,KAAK,CAAC8B,WAAN,GACD,CAHD,CAKA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACV,KAAD,CAAW,CAC/BA,KAAK,CAACW,cAAN,GAEA,GAAI/B,WAAJ,CAAiB,CACf,GAAMgC,CAAAA,OAAO,CAAG,CACdC,IAAI,CAAE5B,SAAS,CAAChB,KADF,CAEd6C,KAAK,CAAE3B,UAAU,CAAClB,KAFJ,CAGd8C,QAAQ,CAAE1B,aAAa,CAACpB,KAHV,CAAhB,CAMAU,KAAK,CAACqC,SAAN,CAAgBJ,OAAhB,EAID,CAXD,IAWO,IAAG,CAACrB,WAAJ,CAAiB,CACtBT,OAAO,CAACmC,OAAR,CAAgBC,KAAhB,GACD,CAFM,IAEA,IAAI,CAAC1B,YAAL,CAAmB,CACxBT,QAAQ,CAACkC,OAAT,CAAiBC,KAAjB,GACD,CAFM,IAEA,CACLlC,WAAW,CAACiC,OAAZ,CAAoBC,KAApB,GACD,CAEDvC,KAAK,CAAC6B,OAAN,GACD,CAvBD,CAyBA,mBACE,KAAC,KAAD,EAAO,OAAO,CAAE7B,KAAK,CAAC6B,OAAtB,uBACE,cAAM,QAAQ,CAAEE,aAAhB,CAA+B,SAAS,CAAE/C,OAAO,CAACwD,IAAlD,wBACE,6CADF,cAEE,aAAK,SAAS,CAAExD,OAAO,CAACyD,KAAxB,wBACE,+BADF,cAEE,cACE,GAAG,CAAEtC,OADP,CAEE,EAAE,CAAC,MAFL,CAGE,KAAK,CAAC,MAHR,CAIE,IAAI,CAAC,MAJP,CAKE,KAAK,CAAEG,SAAS,CAAChB,KALnB,CAME,QAAQ,CAAE8B,iBANZ,CAOE,MAAM,CAAEK,mBAPV,EAFF,GAFF,cAcE,aAAK,SAAS,CAAEzC,OAAO,CAACyD,KAAxB,wBACE,gCADF,cAEE,cACE,GAAG,CAAErC,QADP,CAEE,EAAE,CAAC,OAFL,CAGE,KAAK,CAAC,QAHR,CAIE,IAAI,CAAC,OAJP,CAKE,KAAK,CAAEI,UAAU,CAAClB,KALpB,CAME,QAAQ,CAAEiC,kBANZ,CAOE,MAAM,CAAEG,oBAPV,EAFF,GAdF,cA0BE,aAAK,SAAS,CAAE1C,OAAO,CAACyD,KAAxB,wBACE,mCADF,cAEE,cACE,GAAG,CAAEpC,WADP,CAEE,EAAE,CAAC,UAFL,CAGE,KAAK,CAAC,UAHR,CAIE,IAAI,CAAC,UAJP,CAKE,KAAK,CAAEK,aAAa,CAACpB,KALvB,CAME,QAAQ,CAAEkC,qBANZ,CAOE,MAAM,CAAEG,uBAPV,EAFF,GA1BF,cAsCE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,oBAtCF,cAuCE,aAAK,SAAS,CAAE3C,OAAO,CAAC0D,UAAxB,wBACE,sCADF,cAEE,eAAQ,OAAO,CAAEd,YAAjB,yBAFF,GAvCF,GADF,EADF,CAgDD,CA9ID,CAgJA,cAAe7B,CAAAA,MAAf","sourcesContent":["import { useReducer, useRef, useState, useEffect } from 'react';\n\nimport Button from \"../UI/Button/Button\";\nimport Modal from \"../UI/Modal/Modal\";\nimport classes from \"./Input.module.css\";\n\nconst regName = /^[a-zA-Z]+$/;\n\nconst nameReducer = (state, action) => {\n  if (action.type === \"USER_INPUT\") {\n    return { value: action.val, isValid: regName.test(action.val) };\n  }\n  if (action.type === \"INPUT_BLUR\") {\n    return { value: state.value, isValid: regName.test(action.val) };\n  }\n  return { value: \"\", isValid: false };\n};\n\nconst emailReducer = (state, action) => {\n  if (action.type === \"USER_INPUT\") {\n    return { value: action.val, isValid: action.val.includes(\"@\") };\n  }\n  if (action.type === \"INPUT_BLUR\") {\n    return { value: state.value, isValid: state.value.includes(\"@\") };\n  }\n  return { value: \"\", isValid: false };\n};\n\nconst passwordReducer = (state, action) => {\n  if (action.type === \"USER_INPUT\") {\n    return { value: action.val, isValid: action.val.trim().length > 6 };\n  }\n  if (action.type === \"INPUT_BLUR\") {\n    return { value: state.value, isValid: state.value.trim().length > 6 };\n  }\n  return { value: \"\", isValid: false };\n};\n\n\nconst Signup = (props) => {\n\n  const [formIsValid, setFormIsValid] = useState(false);\n\n  const nameRef = useRef();\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  const [nameState, dispatchName] = useReducer(nameReducer, {\n    value: \"\",\n    isValid: false\n  })\n\n  const [emailState, dispatchEmail] = useReducer(emailReducer, {\n    value: \"\",\n    isValid: false,\n  });\n\n  const [passwordState, dispatchPassword] = useReducer(passwordReducer, {\n    value: \"\",\n    isValid: null,\n  });\n\n  const { isValid: nameIsValid } = nameState;\n  const { isValid: emailIsValid } = emailState;\n  const { isValid: passwordIsValid } = passwordState;\n\n  useEffect(() => {\n    const identifier = setTimeout(() => {\n      console.log(\"Checking form validity\");\n      setFormIsValid(nameIsValid && emailIsValid && passwordIsValid);\n    }, 500);\n\n    return () => {\n      console.log(\"CLEANUP\");\n      clearTimeout(identifier);\n    };\n  }, [nameIsValid, emailIsValid, passwordIsValid]);\n\n  const nameChangeHandler = (event) => {\n    dispatchName({ type: \"USER_INPUT\", val: event.target.value });\n  }\n\n  const emailChangeHandler = (event) => {\n    dispatchEmail({ type: \"USER_INPUT\", val: event.target.value });\n  };\n\n  const passwordChangeHandler = (event) => {\n    dispatchPassword({ type: \"USER_INPUT\", val: event.target.value });\n  };\n\n  const validateNameHandler = () => {\n    dispatchName({ type: \"INPUT_BLUR\" });\n  }\n\n  const validateEmailHandler = () => {\n    dispatchEmail({ type: \"INPUT_BLUR\" });\n  };\n\n  const validatePasswordHandler = () => {\n    dispatchPassword({ type: \"INPUT_BLUR\" });\n  };\n\n\n  const slideHandler = () => {\n    props.onClose();\n    props.onShowLogin();\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    if (formIsValid) {\n      const payload = {\n        name: nameState.value,\n        email: emailState.value,\n        password: passwordState.value\n      }\n      \n      props.onConfirm(payload);\n\n\n\n    } else if(!nameIsValid) {\n      nameRef.current.focus();\n    } else if (!emailIsValid) {\n      emailRef.current.focus();\n    } else {\n      passwordRef.current.focus();\n    }\n\n    props.onClose();\n  };\n\n  return (\n    <Modal onClose={props.onClose}>\n      <form onSubmit={submitHandler} className={classes.body}>\n        <h2>Join Waste Eliminator</h2>\n        <div className={classes.input}>\n          <label>Name</label>\n          <input\n            ref={nameRef}\n            id=\"name\"\n            label=\"Name\"\n            type=\"text\"\n            value={nameState.value}\n            onChange={nameChangeHandler}\n            onBlur={validateNameHandler}\n          />\n        </div>\n        <div className={classes.input}>\n          <label>Email</label>\n          <input\n            ref={emailRef}\n            id=\"email\"\n            label=\"E-mail\"\n            type=\"email\"\n            value={emailState.value}\n            onChange={emailChangeHandler}\n            onBlur={validateEmailHandler}\n          />\n        </div>\n        <div className={classes.input}>\n          <label>Password</label>\n          <input\n            ref={passwordRef}\n            id=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            value={passwordState.value}\n            onChange={passwordChangeHandler}\n            onBlur={validatePasswordHandler}\n          />\n        </div>\n        <Button type=\"submit\">Signup</Button>\n        <div className={classes.changeForm}>\n          <p>Already signup?</p>\n          <button onClick={slideHandler}>Go to Login</button>\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}