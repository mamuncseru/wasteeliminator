{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Documents/React Native/wasteeliminator/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/HP/Documents/React Native/wasteeliminator/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{Fragment}from\"react\";import Login from\"./Login\";import Signup from\"./Signup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EntryForm=function EntryForm(props){var submitUserHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(payload){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(JSON.stringify(payload));_context.next=3;return fetch(\"https://waste-eliminator-api.us-south.cf.appdomain.cloud/users\",{method:\"POST\",body:JSON.stringify(payload),headers:{\"Content-Type\":\"application/json\"}});case 3:response=_context.sent;_context.prev=4;_context.next=7;return response.json();case 7:data=_context.sent;props.setToken(data.token);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](4);console.log(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[4,11]]);}));return function submitUserHandler(_x){return _ref.apply(this,arguments);};}();var loginUserHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(payload){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://waste-eliminator-api.us-south.cf.appdomain.cloud/users/login\",{method:\"POST\",body:JSON.stringify(payload),headers:{\"Content-Type\":\"application/json\"}});case 2:response=_context2.sent;_context2.prev=3;_context2.next=6;return response.json();case 6:data=_context2.sent;props.setToken(data.token);_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](3);console.log(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[3,10]]);}));return function loginUserHandler(_x2){return _ref2.apply(this,arguments);};}();var signupScreen=props.signupIsShown&&/*#__PURE__*/_jsx(Signup,{onConfirm:submitUserHandler,onShowLogin:props.showLoginHandler,onClose:props.hideEntryFormHandler});var loginScreen=props.loginIsShown&&/*#__PURE__*/_jsx(Login,{onConfirm:loginUserHandler,onShowSignup:props.showSignupHandler,onClose:props.hideEntryFormHandler});return/*#__PURE__*/_jsxs(Fragment,{children:[signupScreen,loginScreen]});};export default EntryForm;","map":{"version":3,"sources":["C:/Users/HP/Documents/React Native/wasteeliminator/src/components/EntryForm/EntryForm.js"],"names":["Fragment","Login","Signup","EntryForm","props","submitUserHandler","payload","console","log","JSON","stringify","fetch","method","body","headers","response","json","data","setToken","token","loginUserHandler","signupScreen","signupIsShown","showLoginHandler","hideEntryFormHandler","loginScreen","loginIsShown","showSignupHandler"],"mappings":"uQAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,wFACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAC3B,GAAMC,CAAAA,iBAAiB,0FAAG,iBAAOC,OAAP,oIACxBC,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeJ,OAAf,CAAZ,EADwB,sBAEDK,CAAAA,KAAK,CAC1B,gEAD0B,CAE1B,CACEC,MAAM,CAAE,MADV,CAEEC,IAAI,CAAEJ,IAAI,CAACC,SAAL,CAAeJ,OAAf,CAFR,CAGEQ,OAAO,CAAE,CACP,eAAgB,kBADT,CAHX,CAF0B,CAFJ,QAElBC,QAFkB,qDAcHA,CAAAA,QAAQ,CAACC,IAAT,EAdG,QAchBC,IAdgB,eAetBb,KAAK,CAACc,QAAN,CAAeD,IAAI,CAACE,KAApB,EAfsB,iFAiBtBZ,OAAO,CAACC,GAAR,cAjBsB,qEAAH,kBAAjBH,CAAAA,iBAAiB,4CAAvB,CAqBA,GAAMe,CAAAA,gBAAgB,2FAAG,kBAAOd,OAAP,+JACAK,CAAAA,KAAK,CAC1B,sEAD0B,CAE1B,CACEC,MAAM,CAAE,MADV,CAEEC,IAAI,CAAEJ,IAAI,CAACC,SAAL,CAAeJ,OAAf,CAFR,CAGEQ,OAAO,CAAE,CACP,eAAgB,kBADT,CAHX,CAF0B,CADL,QACjBC,QADiB,wDAYFA,CAAAA,QAAQ,CAACC,IAAT,EAZE,QAYfC,IAZe,gBAarBb,KAAK,CAACc,QAAN,CAAeD,IAAI,CAACE,KAApB,EAbqB,qFAerBZ,OAAO,CAACC,GAAR,eAfqB,uEAAH,kBAAhBY,CAAAA,gBAAgB,8CAAtB,CAmBA,GAAMC,CAAAA,YAAY,CAAGjB,KAAK,CAACkB,aAAN,eACnB,KAAC,MAAD,EACE,SAAS,CAAEjB,iBADb,CAEE,WAAW,CAAED,KAAK,CAACmB,gBAFrB,CAGE,OAAO,CAAEnB,KAAK,CAACoB,oBAHjB,EADF,CAQA,GAAMC,CAAAA,WAAW,CAAGrB,KAAK,CAACsB,YAAN,eAClB,KAAC,KAAD,EACE,SAAS,CAAEN,gBADb,CAEE,YAAY,CAAEhB,KAAK,CAACuB,iBAFtB,CAGE,OAAO,CAAEvB,KAAK,CAACoB,oBAHjB,EADF,CAQA,mBACE,MAAC,QAAD,YACGH,YADH,CAEGI,WAFH,GADF,CAMD,CA/DD,CAiEA,cAAetB,CAAAA,SAAf","sourcesContent":["import { Fragment } from \"react\";\nimport Login from \"./Login\";\nimport Signup from \"./Signup\";\nconst EntryForm = (props) => {\n  const submitUserHandler = async (payload) => {\n    console.log(JSON.stringify(payload));\n    const response = await fetch(\n      \"https://waste-eliminator-api.us-south.cf.appdomain.cloud/users\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(payload),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n\n    try {\n      const data = await response.json();\n      props.setToken(data.token);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const loginUserHandler = async (payload) => {\n    const response = await fetch(\n      \"https://waste-eliminator-api.us-south.cf.appdomain.cloud/users/login\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(payload),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    try {\n      const data = await response.json();\n      props.setToken(data.token);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const signupScreen = props.signupIsShown && (\n    <Signup\n      onConfirm={submitUserHandler}\n      onShowLogin={props.showLoginHandler}\n      onClose={props.hideEntryFormHandler}\n    />\n  );\n\n  const loginScreen = props.loginIsShown && (\n    <Login\n      onConfirm={loginUserHandler}\n      onShowSignup={props.showSignupHandler}\n      onClose={props.hideEntryFormHandler}\n    />\n  );\n\n  return (\n    <Fragment>\n      {signupScreen}\n      {loginScreen}\n    </Fragment>\n  );\n};\n\nexport default EntryForm;\n"]},"metadata":{},"sourceType":"module"}