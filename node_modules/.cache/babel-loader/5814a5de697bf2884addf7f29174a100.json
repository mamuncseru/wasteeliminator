{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Documents\\\\React Native\\\\wasteeliminator\\\\src\\\\components\\\\Post\\\\AddPost.js\",\n    _s = $RefreshSig$();\n\nimport Button from \"../UI/Button/Button\";\nimport classes from \"./AddPost.module.css\";\nimport { useRef, useState, useEffect, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst latReducer = (state, action) => {\n  if (action.type === \"USER_INPUT\") {\n    return {\n      value: action.val,\n      isValid: !isNaN(action.val)\n    };\n  }\n\n  if (action.type === \"INPUT_BLUR\") {\n    return {\n      value: state.value,\n      isValid: !isNaN(action.val)\n    };\n  }\n\n  return {\n    value: \"\",\n    isValid: false\n  };\n};\n\nconst longReducer = (state, action) => {\n  if (action.type === \"USER_INPUT\") {\n    return {\n      value: action.val,\n      isValid: !isNaN(action.val)\n    };\n  }\n\n  if (action.type === \"INPUT_BLUR\") {\n    return {\n      value: state.value,\n      isValid: !isNaN(action.val)\n    };\n  }\n\n  return {\n    value: \"\",\n    isValid: false\n  };\n};\n\nconst AddPost = props => {\n  _s();\n\n  const wasteTypeRef = useRef();\n  const latRef = useRef();\n  const longRef = useRef();\n  const [latState, dispatchLat] = useReducer(latReducer, {\n    value: \"\",\n    isValid: false\n  });\n  const [longState, dispatchLong] = useReducer(latReducer, {\n    value: \"\",\n    isValid: null\n  });\n  const {\n    isValid: latIsValid\n  } = latState;\n  const {\n    isValid: longIsValid\n  } = longState;\n  useEffect(() => {\n    const identifier = setTimeout(() => {\n      console.log(\"Checking form validity\");\n      setFormIsValid(latIsValid && longIsValid);\n    }, 500);\n    return () => {\n      console.log(\"CLEANUP\");\n      clearTimeout(identifier);\n    };\n  }, [latIsValid, longIsValid]);\n  const [file, setFile] = useState(null);\n\n  const SubmitHandler = event => {\n    event.preventDefault();\n    const enteredWasteType = wasteTypeRef.current.value;\n    const enteredLat = parseFloat(latRef.current.value);\n    const enteredLong = parseFloat(longRef.current.value);\n    const metaData = {\n      \"wasteType\": enteredWasteType,\n      \"location\": {\n        \"lat\": enteredLat,\n        \"long\": enteredLong\n      }\n    };\n    const data = new FormData();\n    data.append(\"image\", file);\n    data.append(\"data\", JSON.stringify(metaData));\n    props.onConfirm(data);\n  };\n\n  const fileHandler = event => {\n    setFile(event.target.files[0]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: SubmitHandler,\n    className: classes.form,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"wastes\",\n        children: \"Choose Waste Type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        type: \"text\",\n        id: \"wastes\",\n        name: \"wastes\",\n        ref: wasteTypeRef,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Organic\",\n          children: \"Organic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Hazardous\",\n          children: \"Hazardous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Liquid\",\n          children: \"Liquid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Recyclable\",\n          children: \"Recyclable\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Solid\",\n          children: \"Solid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Latitude\",\n          type: \"number\",\n          value: props.location.lat,\n          disabled: false,\n          ref: latRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Longitude\",\n          type: \"number\",\n          value: props.location.long,\n          disabled: false,\n          ref: longRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Add Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"img\",\n        name: \"img\",\n        accept: \"image/*\",\n        onChange: fileHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.btn,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"Add Alert\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddPost, \"DMQ++L+ZCbwRBRAsvjCNqPKNCRo=\");\n\n_c = AddPost;\nexport default AddPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddPost\");","map":{"version":3,"sources":["C:/Users/HP/Documents/React Native/wasteeliminator/src/components/Post/AddPost.js"],"names":["Button","classes","useRef","useState","useEffect","useReducer","latReducer","state","action","type","value","val","isValid","isNaN","longReducer","AddPost","props","wasteTypeRef","latRef","longRef","latState","dispatchLat","longState","dispatchLong","latIsValid","longIsValid","identifier","setTimeout","console","log","setFormIsValid","clearTimeout","file","setFile","SubmitHandler","event","preventDefault","enteredWasteType","current","enteredLat","parseFloat","enteredLong","metaData","data","FormData","append","JSON","stringify","onConfirm","fileHandler","target","files","form","location","lat","long","btn"],"mappings":"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","sourcesContent":["import Button from \"../UI/Button/Button\";\nimport classes from \"./AddPost.module.css\";\n\nimport { useRef, useState, useEffect, useReducer } from \"react\";\n\n\nconst latReducer = (state, action) => {\n  if (action.type === \"USER_INPUT\") {\n    return { value: action.val, isValid: !isNaN(action.val) };\n  }\n  if (action.type === \"INPUT_BLUR\") {\n    return { value: state.value, isValid: !isNaN(action.val) };\n  }\n  return { value: \"\", isValid: false };\n};\nconst longReducer = (state, action) => {\n  if (action.type === \"USER_INPUT\") {\n    return { value: action.val, isValid: !isNaN(action.val) };\n  }\n  if (action.type === \"INPUT_BLUR\") {\n    return { value: state.value, isValid: !isNaN(action.val) };\n  }\n  return { value: \"\", isValid: false };\n};\n\nconst AddPost = (props) => {\n  const wasteTypeRef = useRef();\n  const latRef = useRef();\n  const longRef = useRef();\n\n  const [latState, dispatchLat] = useReducer(latReducer, {\n    value: \"\",\n    isValid: false,\n  });\n\n  const [longState, dispatchLong] = useReducer(latReducer, {\n    value: \"\",\n    isValid: null,\n  });\n\n  const { isValid: latIsValid } = latState;\n  const { isValid: longIsValid } = longState;\n\n  useEffect(() => {\n    const identifier = setTimeout(() => {\n      console.log(\"Checking form validity\");\n      setFormIsValid(latIsValid && longIsValid);\n    }, 500);\n\n    return () => {\n      console.log(\"CLEANUP\");\n      clearTimeout(identifier);\n    };\n  }, [latIsValid, longIsValid]);\n\n  const [file, setFile] = useState(null);\n\n  \n  const SubmitHandler = (event) => {\n    event.preventDefault();\n\n    const enteredWasteType = wasteTypeRef.current.value;\n    const enteredLat = parseFloat(latRef.current.value);\n    const enteredLong = parseFloat(longRef.current.value);\n\n    const metaData = {\n      \"wasteType\": enteredWasteType,\n      \"location\": {\n        \"lat\": enteredLat,\n        \"long\": enteredLong,\n      }\n    };\n    const data = new FormData();\n    data.append(\"image\", file);\n    data.append(\"data\", JSON.stringify(metaData));\n\n\n    \n    props.onConfirm(data);\n  };\n\n  const fileHandler = (event) => {\n    setFile(event.target.files[0]);\n  };\n\n  return (\n    <form onSubmit={SubmitHandler} className={classes.form}>\n      <div>\n        <label htmlFor=\"wastes\">Choose Waste Type</label>\n        <select type=\"text\" id=\"wastes\" name=\"wastes\" ref={wasteTypeRef}>\n          <option value=\"Organic\">Organic</option>\n          <option value=\"Hazardous\">Hazardous</option>\n          <option value=\"Liquid\">Liquid</option>\n          <option value=\"Recyclable\">Recyclable</option>\n          <option value=\"Solid\">Solid</option>\n        </select>\n      </div>\n      <div>\n        <label>Location</label>\n        <div>\n          <input\n            placeholder=\"Latitude\"\n            type=\"number\"\n            value={props.location.lat}\n            disabled={false}\n            ref={latRef}\n          />\n          <input\n            placeholder=\"Longitude\"\n            type=\"number\"\n            value={props.location.long}\n            disabled={false}\n            ref={longRef}\n          />\n        </div>\n      </div>\n\n      <div>\n        <label>Add Image</label>\n        <input\n          type=\"file\"\n          id=\"img\"\n          name=\"img\"\n          accept=\"image/*\"\n          onChange={fileHandler}\n        />\n      </div>\n      <div className={classes.btn}>\n        <Button type=\"submit\">Add Alert</Button>\n      </div>\n    </form>\n  );\n};\n\nexport default AddPost;\n"]},"metadata":{},"sourceType":"module"}