{"ast":null,"code":"import _slicedToArray from\"C:/Users/HP/Documents/React Native/wasteeliminator/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useReducer,useRef,useState,useEffect}from'react';import Button from\"../UI/Button/Button\";import classes from\"./Input.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var regName=/^[a-zA-Z]+$/;var nameReducer=function nameReducer(state,action){if(action.type===\"USER_INPUT\"){return{value:action.val,isValid:regName.test(action.val)};}if(action.type===\"INPUT_BLUR\"){return{value:state.value,isValid:regName.test(action.val)};}return{value:\"\",isValid:false};};var emailReducer=function emailReducer(state,action){if(action.type===\"USER_INPUT\"){return{value:action.val,isValid:action.val.includes(\"@\")};}if(action.type===\"INPUT_BLUR\"){return{value:state.value,isValid:state.value.includes(\"@\")};}return{value:\"\",isValid:false};};var messageReducer=function messageReducer(state,action){if(action.type===\"USER_INPUT\"){return{value:action.val,isValid:action.val.trim().length>20};}if(action.type===\"INPUT_BLUR\"){return{value:state.value,isValid:state.value.trim().length>20};}return{value:\"\",isValid:false};};var ContactForm=function ContactForm(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),formIsValid=_useState2[0],setFormIsValid=_useState2[1];var nameRef=useRef();var emailRef=useRef();var messageRef=useRef();var _useReducer=useReducer(nameReducer,{value:\"\",isValid:false}),_useReducer2=_slicedToArray(_useReducer,2),nameState=_useReducer2[0],dispatchName=_useReducer2[1];var _useReducer3=useReducer(emailReducer,{value:\"\",isValid:false}),_useReducer4=_slicedToArray(_useReducer3,2),emailState=_useReducer4[0],dispatchEmail=_useReducer4[1];var _useReducer5=useReducer(messageReducer,{value:\"\",isValid:null}),_useReducer6=_slicedToArray(_useReducer5,2),messageState=_useReducer6[0],dispatchMessage=_useReducer6[1];var nameIsValid=nameState.isValid;var emailIsValid=emailState.isValid;var messageIsValid=messageState.isValid;useEffect(function(){var identifier=setTimeout(function(){console.log(\"Checking form validity\");setFormIsValid(nameIsValid&&emailIsValid&&messageIsValid);},500);return function(){console.log(\"CLEANUP\");clearTimeout(identifier);};},[nameIsValid,emailIsValid,messageIsValid]);var nameChangeHandler=function nameChangeHandler(event){dispatchName({type:\"USER_INPUT\",val:event.target.value});};var emailChangeHandler=function emailChangeHandler(event){dispatchEmail({type:\"USER_INPUT\",val:event.target.value});};var messageChangeHandler=function messageChangeHandler(event){dispatchMessage({type:\"USER_INPUT\",val:event.target.value});};var validateNameHandler=function validateNameHandler(){dispatchName({type:\"INPUT_BLUR\"});};var validateEmailHandler=function validateEmailHandler(){dispatchEmail({type:\"INPUT_BLUR\"});};var validateMessageHandler=function validateMessageHandler(){dispatchMessage({type:\"INPUT_BLUR\"});};var submitHandler=function submitHandler(event){event.preventDefault();if(formIsValid){var payload={name:nameState.value,email:emailState.value,message:messageState.value};console.log(payload);}else if(!nameIsValid){nameRef.current.focus();}else if(!emailIsValid){emailRef.current.focus();}else{messageRef.current.focus();}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,className:classes.body,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Contact Us\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.input,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{ref:nameRef,id:\"name\",label:\"Name\",type:\"text\",value:nameState.value,onChange:nameChangeHandler,onBlur:validateNameHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.input,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{ref:emailRef,id:\"email\",label:\"E-mail\",type:\"email\",value:emailState.value,onChange:emailChangeHandler,onBlur:validateEmailHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.message,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Message\"}),/*#__PURE__*/_jsx(\"input\",{ref:messageRef,id:\"message\",label:\"message\",type:\"text\",value:messageState.value,onChange:messageChangeHandler,onBlur:validateMessageHandler})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Send\"})]});};export default ContactForm;","map":{"version":3,"sources":["C:/Users/HP/Documents/React Native/wasteeliminator/src/components/Pages/ContactForm.js"],"names":["useReducer","useRef","useState","useEffect","Button","classes","regName","nameReducer","state","action","type","value","val","isValid","test","emailReducer","includes","messageReducer","trim","length","ContactForm","props","formIsValid","setFormIsValid","nameRef","emailRef","messageRef","nameState","dispatchName","emailState","dispatchEmail","messageState","dispatchMessage","nameIsValid","emailIsValid","messageIsValid","identifier","setTimeout","console","log","clearTimeout","nameChangeHandler","event","target","emailChangeHandler","messageChangeHandler","validateNameHandler","validateEmailHandler","validateMessageHandler","submitHandler","preventDefault","payload","name","email","message","current","focus","body","input"],"mappings":"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","sourcesContent":["import { useReducer, useRef, useState, useEffect } from 'react';\r\n\r\nimport Button from \"../UI/Button/Button\";\r\nimport classes from \"./Input.module.css\";\r\n\r\nconst regName = /^[a-zA-Z]+$/;\r\n\r\nconst nameReducer = (state, action) => {\r\n  if (action.type === \"USER_INPUT\") {\r\n    return { value: action.val, isValid: regName.test(action.val) };\r\n  }\r\n  if (action.type === \"INPUT_BLUR\") {\r\n    return { value: state.value, isValid: regName.test(action.val) };\r\n  }\r\n  return { value: \"\", isValid: false };\r\n};\r\n\r\nconst emailReducer = (state, action) => {\r\n  if (action.type === \"USER_INPUT\") {\r\n    return { value: action.val, isValid: action.val.includes(\"@\") };\r\n  }\r\n  if (action.type === \"INPUT_BLUR\") {\r\n    return { value: state.value, isValid: state.value.includes(\"@\") };\r\n  }\r\n  return { value: \"\", isValid: false };\r\n};\r\n\r\nconst messageReducer = (state, action) => {\r\n  if (action.type === \"USER_INPUT\") {\r\n    return { value: action.val, isValid: action.val.trim().length > 20 };\r\n  }\r\n  if (action.type === \"INPUT_BLUR\") {\r\n    return { value: state.value, isValid: state.value.trim().length > 20 };\r\n  }\r\n  return { value: \"\", isValid: false };\r\n};\r\n\r\n\r\nconst ContactForm = (props) => {\r\n\r\n  const [formIsValid, setFormIsValid] = useState(false);\r\n\r\n  const nameRef = useRef();\r\n  const emailRef = useRef();\r\n  const messageRef = useRef();\r\n\r\n  const [nameState, dispatchName] = useReducer(nameReducer, {\r\n    value: \"\",\r\n    isValid: false\r\n  })\r\n\r\n  const [emailState, dispatchEmail] = useReducer(emailReducer, {\r\n    value: \"\",\r\n    isValid: false,\r\n  });\r\n\r\n  const [messageState, dispatchMessage] = useReducer(messageReducer, {\r\n    value: \"\",\r\n    isValid: null,\r\n  });\r\n\r\n  const { isValid: nameIsValid } = nameState;\r\n  const { isValid: emailIsValid } = emailState;\r\n  const { isValid: messageIsValid } = messageState;\r\n\r\n  useEffect(() => {\r\n    const identifier = setTimeout(() => {\r\n      console.log(\"Checking form validity\");\r\n      setFormIsValid(nameIsValid && emailIsValid && messageIsValid);\r\n    }, 500);\r\n\r\n    return () => {\r\n      console.log(\"CLEANUP\");\r\n      clearTimeout(identifier);\r\n    };\r\n  }, [nameIsValid, emailIsValid, messageIsValid]);\r\n\r\n  const nameChangeHandler = (event) => {\r\n    dispatchName({ type: \"USER_INPUT\", val: event.target.value });\r\n  }\r\n\r\n  const emailChangeHandler = (event) => {\r\n    dispatchEmail({ type: \"USER_INPUT\", val: event.target.value });\r\n  };\r\n\r\n  const messageChangeHandler = (event) => {\r\n    dispatchMessage({ type: \"USER_INPUT\", val: event.target.value });\r\n  };\r\n\r\n  const validateNameHandler = () => {\r\n    dispatchName({ type: \"INPUT_BLUR\" });\r\n  }\r\n\r\n  const validateEmailHandler = () => {\r\n    dispatchEmail({ type: \"INPUT_BLUR\" });\r\n  };\r\n\r\n  const validateMessageHandler = () => {\r\n    dispatchMessage({ type: \"INPUT_BLUR\" });\r\n  };\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (formIsValid) {\r\n      const payload = {\r\n        name: nameState.value,\r\n        email: emailState.value,\r\n        message: messageState.value\r\n      }\r\n      \r\n      console.log(payload);\r\n\r\n\r\n\r\n    } else if(!nameIsValid) {\r\n      nameRef.current.focus();\r\n    } else if (!emailIsValid) {\r\n      emailRef.current.focus();\r\n    } else {\r\n      messageRef.current.focus();\r\n    }\r\n\r\n  };\r\n\r\n  return (\r\n      <form onSubmit={submitHandler} className={classes.body}>\r\n        <h1>Contact Us</h1>\r\n        <div className={classes.input}>\r\n          <label>Name</label>\r\n          <input\r\n            ref={nameRef}\r\n            id=\"name\"\r\n            label=\"Name\"\r\n            type=\"text\"\r\n            value={nameState.value}\r\n            onChange={nameChangeHandler}\r\n            onBlur={validateNameHandler}\r\n          />\r\n        </div>\r\n        <div className={classes.input}>\r\n          <label>Email</label>\r\n          <input\r\n            ref={emailRef}\r\n            id=\"email\"\r\n            label=\"E-mail\"\r\n            type=\"email\"\r\n            value={emailState.value}\r\n            onChange={emailChangeHandler}\r\n            onBlur={validateEmailHandler}\r\n          />\r\n        </div>\r\n        <div className={classes.message}>\r\n          <label>Message</label>\r\n          <input\r\n            ref={messageRef}\r\n            id=\"message\"\r\n            label=\"message\"\r\n            type=\"text\"\r\n            value={messageState.value}\r\n            onChange={messageChangeHandler}\r\n            onBlur={validateMessageHandler}\r\n          />\r\n        </div>\r\n        <Button type=\"submit\">Send</Button>\r\n      </form>\r\n  );\r\n};\r\n\r\nexport default ContactForm;\r\n"]},"metadata":{},"sourceType":"module"}