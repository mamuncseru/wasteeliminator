{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Documents\\\\React Native\\\\wasteeliminator\\\\src\\\\components\\\\EntryForm\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { useRef, useReducer, useEffect, useState } from \"react\";\nimport Button from \"../UI/Button/Button\";\nimport Modal from \"../UI/Modal/Modal\";\nimport classes from \"./Input.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst emailReducer = (state, action) => {\n  if (action.type === \"USER_INPUT\") {\n    return {\n      value: action.val,\n      isValid: action.val.includes(\"@\")\n    };\n  }\n\n  if (action.type === \"INPUT_BLUR\") {\n    return {\n      value: state.value,\n      isValid: state.value.includes(\"@\")\n    };\n  }\n\n  return {\n    value: \"\",\n    isValid: false\n  };\n};\n\nconst passwordReducer = (state, action) => {\n  if (action.type === \"USER_INPUT\") {\n    return {\n      value: action.val,\n      isValid: action.val.trim().length > 6\n    };\n  }\n\n  if (action.type === \"INPUT_BLUR\") {\n    return {\n      value: state.value,\n      isValid: state.value.trim().length > 6\n    };\n  }\n\n  return {\n    value: \"\",\n    isValid: false\n  };\n};\n\nconst Login = props => {\n  _s();\n\n  const [formIsValid, setFormIsValid] = useState(false);\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const [emailState, dispatchEmail] = useReducer(emailReducer, {\n    value: \"\",\n    isValid: false\n  });\n  const [passwordState, dispatchPassword] = useReducer(passwordReducer, {\n    value: \"\",\n    isValid: null\n  });\n  const {\n    isValid: emailIsValid\n  } = emailState;\n  const {\n    isValid: passwordIsValid\n  } = passwordState;\n  useEffect(() => {\n    const identifier = setTimeout(() => {\n      setFormIsValid(emailIsValid && passwordIsValid);\n    }, 500);\n    return () => {\n      clearTimeout(identifier);\n    };\n  }, [emailIsValid, passwordIsValid]);\n\n  const emailChangeHandler = event => {\n    dispatchEmail({\n      type: \"USER_INPUT\",\n      val: event.target.value\n    });\n  };\n\n  const passwordChangeHandler = event => {\n    dispatchPassword({\n      type: \"USER_INPUT\",\n      val: event.target.value\n    });\n  };\n\n  const validateEmailHandler = () => {\n    dispatchEmail({\n      type: \"INPUT_BLUR\"\n    });\n  };\n\n  const validatePasswordHandler = () => {\n    dispatchPassword({\n      type: \"INPUT_BLUR\"\n    });\n  };\n\n  const slideHandler = () => {\n    props.onClose();\n    props.onShowSignup();\n  };\n\n  const submitHandler = event => {\n    event.preventDefault();\n\n    if (formIsValid) {\n      const payload = {\n        email: emailState.value,\n        password: passwordState.value\n      };\n      props.onConfirm(payload);\n    } else if (!emailIsValid) {\n      emailRef.current.focus();\n    } else {\n      passwordRef.current.focus();\n    } // const enteredEmail = emailRef.current.value;\n    // const enteredPassword = passwordRef.current.value;\n    // console.log(enteredEmail, enteredPassword);\n\n\n    props.onClose();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    onClose: props.onClose,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      className: classes.body,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Sign In to Waste Eliminator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.input,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: emailRef,\n          id: \"email\",\n          label: \"E-mail\",\n          type: \"email\",\n          value: emailState.value,\n          onChange: emailChangeHandler,\n          onBlur: validateEmailHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.input,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: passwordRef,\n          id: \"password\",\n          label: \"Password\",\n          type: \"password\",\n          value: passwordState.value,\n          onChange: passwordChangeHandler,\n          onBlur: validatePasswordHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.changeForm,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Not a registered user?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: slideHandler,\n          children: \"Go to Signup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"bvPkQFbRc2Xj0OImkHJ5QBzAThY=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/HP/Documents/React Native/wasteeliminator/src/components/EntryForm/Login.js"],"names":["useRef","useReducer","useEffect","useState","Button","Modal","classes","emailReducer","state","action","type","value","val","isValid","includes","passwordReducer","trim","length","Login","props","formIsValid","setFormIsValid","emailRef","passwordRef","emailState","dispatchEmail","passwordState","dispatchPassword","emailIsValid","passwordIsValid","identifier","setTimeout","clearTimeout","emailChangeHandler","event","target","passwordChangeHandler","validateEmailHandler","validatePasswordHandler","slideHandler","onClose","onShowSignup","submitHandler","preventDefault","payload","email","password","onConfirm","current","focus","body","input","changeForm"],"mappings":"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","sourcesContent":["import { useRef, useReducer, useEffect, useState } from \"react\";\nimport Button from \"../UI/Button/Button\";\nimport Modal from \"../UI/Modal/Modal\";\nimport classes from \"./Input.module.css\";\n\nconst emailReducer = (state, action) => {\n  if (action.type === \"USER_INPUT\") {\n    return { value: action.val, isValid: action.val.includes(\"@\") };\n  }\n  if (action.type === \"INPUT_BLUR\") {\n    return { value: state.value, isValid: state.value.includes(\"@\") };\n  }\n  return { value: \"\", isValid: false };\n};\n\nconst passwordReducer = (state, action) => {\n  if (action.type === \"USER_INPUT\") {\n    return { value: action.val, isValid: action.val.trim().length > 6 };\n  }\n  if (action.type === \"INPUT_BLUR\") {\n    return { value: state.value, isValid: state.value.trim().length > 6 };\n  }\n  return { value: \"\", isValid: false };\n};\n\nconst Login = (props) => {\n  const [formIsValid, setFormIsValid] = useState(false);\n\n\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  const [emailState, dispatchEmail] = useReducer(emailReducer, {\n    value: \"\",\n    isValid: false,\n  });\n\n  const [passwordState, dispatchPassword] = useReducer(passwordReducer, {\n    value: \"\",\n    isValid: null,\n  });\n\n  const { isValid: emailIsValid } = emailState;\n  const { isValid: passwordIsValid } = passwordState;\n\n  useEffect(() => {\n    const identifier = setTimeout(() => {\n      setFormIsValid(emailIsValid && passwordIsValid);\n    }, 500);\n\n    return () => {\n      clearTimeout(identifier);\n    };\n  }, [emailIsValid, passwordIsValid]);\n\n  const emailChangeHandler = (event) => {\n    dispatchEmail({ type: \"USER_INPUT\", val: event.target.value });\n  };\n\n  const passwordChangeHandler = (event) => {\n    dispatchPassword({ type: \"USER_INPUT\", val: event.target.value });\n  };\n\n  const validateEmailHandler = () => {\n    dispatchEmail({ type: \"INPUT_BLUR\" });\n  };\n\n  const validatePasswordHandler = () => {\n    dispatchPassword({ type: \"INPUT_BLUR\" });\n  };\n\n  const slideHandler = () => {\n    props.onClose();\n    props.onShowSignup();\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    if (formIsValid) {\n      const payload = {email: emailState.value, password: passwordState.value}\n\n      props.onConfirm(payload)\n\n    } else if (!emailIsValid) {\n      emailRef.current.focus();\n    } else {\n      passwordRef.current.focus();\n    }\n\n    // const enteredEmail = emailRef.current.value;\n    // const enteredPassword = passwordRef.current.value;\n\n    // console.log(enteredEmail, enteredPassword);\n\n    props.onClose();\n  };\n\n  return (\n    <Modal onClose={props.onClose}>\n      <form onSubmit={submitHandler} className={classes.body}>\n        <h3>Sign In to Waste Eliminator</h3>\n        <div className={classes.input}>\n          <label>Email</label>\n          <input\n            ref={emailRef}\n            id=\"email\"\n            label=\"E-mail\"\n            type=\"email\"\n            value={emailState.value}\n            onChange={emailChangeHandler}\n            onBlur={validateEmailHandler}\n          />\n        </div>\n        <div className={classes.input}>\n          <label>Password</label>\n          <input\n            ref={passwordRef}\n            id=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            value={passwordState.value}\n            onChange={passwordChangeHandler}\n            onBlur={validatePasswordHandler}\n          />\n        </div>\n        <Button type=\"submit\">Login</Button>\n        <div className={classes.changeForm}>\n          <p>Not a registered user?</p>\n          <button onClick={slideHandler}>Go to Signup</button>\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}